@model List<GestionBienes.Models.Bien>;@{ Layout = null;   var bien = new Bien();}<!DOCTYPE html><html lang="es"><head>    <meta name="viewport" content="width=device-width" />    <title>Gestión de bienes</title>    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">    <link rel="stylesheet" href="~/css/Navbar.css" />    <link rel="stylesheet" href="~/css/Estilos.css" /></head><body>    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">        <div class="container">            <a class="navbar-brand js-scroll-trigger" href="#page-top">Gestion de Bienes</a>            <ul class="navbar-nav">                <li class="nav-item active">                    <a class="nav-link" href="/Bien/Index">Bienes<span class="sr-only">(current)</span></a>                </li>                <li class="nav-item">                    <a class="nav-link" href="/Movimiento/_RetirarBien">Retirar Bienes</a>                </li>                <li class="nav-item dropdown">                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                        Ingresar Bienes                    </a>                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">                        <a class="dropdown-item" href="/Movimiento/_IngresarBien">Registrado</a>                        <div class="dropdown-divider"></div>                        <a class="dropdown-item" href="/Bien/IngresarBienNoRegistrado">No Registrado</a>                    </div>                </li>                <li class="nav-item">                    <a class="btn btn-md btn-secondary" href="/Home/Index">Cerrar Sesión</a>                </li>            </ul>        </div>    </nav>    <div class="container col-md-6" style="padding-top: 100px; text-align:center">        <form>            <h4>Ingresar Bienes</h4>            <div class="row">                <div class="col-md-10">                    <input type="text" class="form-control" id="buscar" placeholder="Ingresa Código o Nombre del Bien">                </div>                <a class="btn btn-md btn-success" onclick="ActivarCampoOtroTema();">Buscar</a>            </div>        </form>    </div>    <div style="padding-top: 50px">        <table class="table table-bordered" id="tabla" style="display:none;">            <thead class="bg-success" style="text-align:center">                <tr>                    <th>N°</th>                    <th>Nombre</th>                    <th>Código</th>                    <th>Marca</th>                    <th>Cantidad actual</th>                    <th>Última entrada hecha</th>                    <th>Última salida hecha</th>                    <th>Retirar bienes</th>                </tr>            </thead>            <tbody style="text-align:center">                @{ int i = 1;}                @foreach (var item in Model)                {    <tr>        <td>@(i++)</td>        <td>@item.Nombre</td>        <td>@item.Codigo</td>        <td>            @{var marca = string.IsNullOrEmpty(item.Marca) ? "No se ha registrado una marca" : item.Marca;}            @marca        </td>        <td>            @item.CantidadActual            @if (item.UnidadMedida == 1)            {<t>Kilogramos</t>}            @if (item.UnidadMedida == 2)            {<t>Metros</t>}            @if (item.UnidadMedida == 3)            {<t>Litros</t>}            @if (item.UnidadMedida == 4)            {<t>Unidades</t>}        </td>        <td>@bien.UltimaEntrada(item.Id)</td>        <td>@bien.UltimaSalida(item.Id)</td>        <td>            <a href="/Movimiento/AgregarExistencias?IdBien=@item.Id" data-toggle="modal" data-target="#exampleModal" style="Color: #28a745" class="fas fa-plus agregar"></a>        </td>    </tr>}            </tbody>        </table>    </div>    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">        <div class="modal-dialog" role="document">            <div id="formagregar" class="modal-content">            </div>        </div>    </div>    <script type="text/javascript">        document.querySelector("#buscar").onkeyup = function () {            $TableFilter("#tabla", this.value);        }        $TableFilter = function (id, value) {            var rows = document.querySelectorAll(id + ' tbody tr');            for (var i = 0; i < rows.length; i++) {                var showRow = false;                var row = rows[i];                row.style.display = 'none';                for (var x = 0; x < row.childElementCount; x++) {                    if (row.children[x].textContent.toLowerCase().indexOf(value.toLowerCase().trim()) > -1) {                        showRow = true;                        break;                    }                }                if (showRow) {                    row.style.display = null;                }            }        }        function ActivarCampoOtroTema() {            var contenedor = document.getElementById("tabla");            contenedor.style.display = "inline-table";            return true;        }    </script>    <script src="~/lib/jquery/dist/jquery.js"></script>    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>    <script>        function AgregarExistencias(element) {            $.ajax({                url: element.href            }).done(function (e) {                $('#formagregar').html(e);            });        }        $('.agregar').on("click", function (e) {            e.preventDefault();            AgregarExistencias(this);        });    </script></body></html>